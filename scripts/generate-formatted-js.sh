#!/bin/bash
############################################################################
# Script to format a JavaScript file, for example, one from a SPA
############################################################################
if [ "$#" -lt 1 ]; then
    script_name=$(basename "$0")
    echo "Usage:"
    echo "   $script_name [SOURCE_SCRIPT_PATH]"
    echo ""
    echo "Call example:"
    echo "    $script_name /tmp/main.js"
    exit 1
fi
SCRIPT=$1
TARGET_FILE="formatted-$(basename $SCRIPT)"
echo -n "[+] Formatting file '$(basename $SCRIPT)' to '$TARGET_FILE' file... "
js-beautify $SCRIPT > $TARGET_FILE
echo "SUCCESS!"
